{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\restaurant_system\\\\frontend\\\\src\\\\components\\\\Forms\\\\FlightForm\\\\FlightForm.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./FlightForm.module.css\";\nimport InputField from \"../../UI/InputField/InputField\";\nimport Button from \"../../UI/Button/Button\";\nimport time from \"../../../helpers/time\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightForm = props => {\n  _s();\n  const {\n    toggleModal,\n    toggleRefreshPage\n  } = props;\n  const [isLoading, setLoading] = useState(true);\n  const [aircrafts, setAircrafts] = useState([]);\n  const [airports, setAirports] = useState([]);\n  const [gates, setGates] = useState([]);\n  const [form, setForm] = useState({\n    aircraftId: 0,\n    availableSeats: 0,\n    date: \"\",\n    time: \"\",\n    departureAirportId: 0,\n    arrivalAirportId: 0,\n    flightStatus: \"\",\n    duration: \"\",\n    gateId: \"\"\n  });\n  const onChange = event => {\n    setForm({\n      ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n  const handleFlightSubmit = event => {\n    event.preventDefault();\n    axios.post(\"http://127.0.0.1:5000/api/v1/flights/\", form).then(res => {\n      toggleRefreshPage();\n      toggleModal();\n    }).catch(e => {\n      alert(e.response.data);\n    });\n  };\n  const getFormData = async () => {\n    await axios.get(\"http://127.0.0.1:5000/api/v1/aircrafts/\").then(aircraftsRes => {\n      setAircrafts([aircraftsRes.data.data.aircrafts]);\n      console.log(aircraftsRes.data.data, \"form\");\n    }).catch(e => {\n      console.log(e);\n    });\n    await axios.get(\"http://127.0.0.1:5000/api/v1/airports/\").then(airportsRes => {\n      setAirports([airportsRes.data.data.airports]);\n    }).catch(e => {\n      console.log(e);\n    });\n    await axios.get(\"http://127.0.0.1:5000/api/v1/gates/\").then(gateRes => {\n      setGates([gateRes.data.data.gates]);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n  useEffect(() => {\n    getFormData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: styles[\"form\"],\n    children: [/*#__PURE__*/_jsxDEV(InputField, {\n      label: \"Aircraft\",\n      type: \"select\",\n      name: \"aircraftId\",\n      options: aircrafts[0],\n      optionValueKey: \"aircraft_id\",\n      optionKey: \"aircraft_id\",\n      optionJsonKey: \"model\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      label: \"Available Seats\",\n      type: \"number\",\n      name: \"availableSeats\",\n      placeholder: \"Available Seats\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      label: \"Flight Date\",\n      type: \"date\",\n      name: \"date\",\n      placeholder: \"Date\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      label: \"Time\",\n      type: \"select\",\n      name: \"time\",\n      options: time,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      label: \"From\",\n      type: \"select\",\n      name: \"departureAirportId\",\n      options: airports[0],\n      optionValueKey: \"airport_id\",\n      optionKey: \"airport_name\",\n      optionJsonKey: \"airport_name\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      label: \"To\",\n      type: \"select\",\n      name: \"arrivalAirportId\",\n      options: airports[0],\n      optionValueKey: \"airport_id\",\n      optionKey: \"airport_name\",\n      optionJsonKey: \"airport_name\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      label: \"Status\",\n      type: \"select\",\n      name: \"flightStatus\",\n      options: [\"Delayed\", \"On Time\"]\n      // optionKey={\"aircraft_id\"}\n      // optionJsonKey={\"model\"}\n      ,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      label: \"Duration\",\n      type: \"select\",\n      name: \"duration\",\n      options: time,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputField, {\n      label: \"Gate\",\n      type: \"select\",\n      name: \"gateId\",\n      options: gates[0],\n      optionValueKey: \"gate_id\",\n      optionKey: \"gate_id\",\n      optionJsonKey: \"gate\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"button-container\"],\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        border: \"none\",\n        backgroundColor: \"#00468B\",\n        color: \"white\",\n        height: \"45px\",\n        onClick: handleFlightSubmit,\n        radius: \"5px\",\n        width: \"25%\",\n        children: \"Manage\",\n        children: \"Create Flight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightForm, \"9NEuVNcdpVS0bkgyb9q1jvH4B1A=\");\n_c = FlightForm;\nexport default FlightForm;\nvar _c;\n$RefreshReg$(_c, \"FlightForm\");","map":{"version":3,"names":["useEffect","useState","axios","styles","InputField","Button","time","FlightForm","props","toggleModal","toggleRefreshPage","isLoading","setLoading","aircrafts","setAircrafts","airports","setAirports","gates","setGates","form","setForm","aircraftId","availableSeats","date","departureAirportId","arrivalAirportId","flightStatus","duration","gateId","onChange","event","target","name","value","handleFlightSubmit","preventDefault","post","then","res","catch","e","alert","response","data","getFormData","get","aircraftsRes","console","log","airportsRes","gateRes"],"sources":["C:/Users/USER/Documents/GitHub/restaurant_system/frontend/src/components/Forms/FlightForm/FlightForm.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport styles from \"./FlightForm.module.css\";\r\nimport InputField from \"../../UI/InputField/InputField\";\r\nimport Button from \"../../UI/Button/Button\";\r\nimport time from \"../../../helpers/time\";\r\n\r\nconst FlightForm = (props) => {\r\n  const { toggleModal, toggleRefreshPage } = props;\r\n  const [isLoading, setLoading] = useState(true);\r\n  const [aircrafts, setAircrafts] = useState([]);\r\n  const [airports, setAirports] = useState([]);\r\n  const [gates, setGates] = useState([]);\r\n  const [form, setForm] = useState({\r\n    aircraftId: 0,\r\n    availableSeats: 0,\r\n    date: \"\",\r\n    time: \"\",\r\n    departureAirportId: 0,\r\n    arrivalAirportId: 0,\r\n    flightStatus: \"\",\r\n    duration: \"\",\r\n    gateId: \"\",\r\n  });\r\n\r\n  const onChange = (event) => {\r\n    setForm({ ...form, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleFlightSubmit = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"http://127.0.0.1:5000/api/v1/flights/\", form)\r\n      .then((res) => {\r\n        toggleRefreshPage();\r\n        toggleModal();\r\n      })\r\n      .catch((e) => {\r\n        alert(e.response.data);\r\n      });\r\n  };\r\n\r\n  const getFormData = async () => {\r\n    await axios\r\n      .get(\"http://127.0.0.1:5000/api/v1/aircrafts/\")\r\n      .then((aircraftsRes) => {\r\n        setAircrafts([aircraftsRes.data.data.aircrafts]);\r\n        console.log(aircraftsRes.data.data, \"form\");\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n\r\n    await axios\r\n      .get(\"http://127.0.0.1:5000/api/v1/airports/\")\r\n      .then((airportsRes) => {\r\n        setAirports([airportsRes.data.data.airports]);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n\r\n    await axios\r\n      .get(\"http://127.0.0.1:5000/api/v1/gates/\")\r\n      .then((gateRes) => {\r\n        setGates([gateRes.data.data.gates]);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getFormData();\r\n  }, []);\r\n\r\n  return (\r\n    <form className={styles[\"form\"]}>\r\n      <InputField\r\n        label={\"Aircraft\"}\r\n        type={\"select\"}\r\n        name={\"aircraftId\"}\r\n        options={aircrafts[0]}\r\n        optionValueKey={\"aircraft_id\"}\r\n        optionKey={\"aircraft_id\"}\r\n        optionJsonKey={\"model\"}\r\n        onChange={onChange}\r\n      />\r\n      <InputField\r\n        label={\"Available Seats\"}\r\n        type={\"number\"}\r\n        name={\"availableSeats\"}\r\n        placeholder={\"Available Seats\"}\r\n        onChange={onChange}\r\n      />\r\n      <InputField\r\n        label={\"Flight Date\"}\r\n        type={\"date\"}\r\n        name={\"date\"}\r\n        placeholder={\"Date\"}\r\n        onChange={onChange}\r\n      />\r\n      <InputField\r\n        label={\"Time\"}\r\n        type={\"select\"}\r\n        name={\"time\"}\r\n        options={time}\r\n        onChange={onChange}\r\n      />\r\n      <InputField\r\n        label={\"From\"}\r\n        type={\"select\"}\r\n        name={\"departureAirportId\"}\r\n        options={airports[0]}\r\n        optionValueKey={\"airport_id\"}\r\n        optionKey={\"airport_name\"}\r\n        optionJsonKey={\"airport_name\"}\r\n        onChange={onChange}\r\n      />\r\n      <InputField\r\n        label={\"To\"}\r\n        type={\"select\"}\r\n        name={\"arrivalAirportId\"}\r\n        options={airports[0]}\r\n        optionValueKey={\"airport_id\"}\r\n        optionKey={\"airport_name\"}\r\n        optionJsonKey={\"airport_name\"}\r\n        onChange={onChange}\r\n      />\r\n      <InputField\r\n        label={\"Status\"}\r\n        type={\"select\"}\r\n        name={\"flightStatus\"}\r\n        options={[\"Delayed\", \"On Time\"]}\r\n        // optionKey={\"aircraft_id\"}\r\n        // optionJsonKey={\"model\"}\r\n        onChange={onChange}\r\n      />\r\n      <InputField\r\n        label={\"Duration\"}\r\n        type={\"select\"}\r\n        name={\"duration\"}\r\n        options={time}\r\n        onChange={onChange}\r\n      />\r\n      <InputField\r\n        label={\"Gate\"}\r\n        type={\"select\"}\r\n        name={\"gateId\"}\r\n        options={gates[0]}\r\n        optionValueKey={\"gate_id\"}\r\n        optionKey={\"gate_id\"}\r\n        optionJsonKey={\"gate\"}\r\n        onChange={onChange}\r\n      />\r\n      <div className={styles[\"button-container\"]}>\r\n        <Button\r\n          border=\"none\"\r\n          backgroundColor=\"#00468B\"\r\n          color=\"white\"\r\n          height=\"45px\"\r\n          onClick={handleFlightSubmit}\r\n          radius=\"5px\"\r\n          width=\"25%\"\r\n          children=\"Manage\"\r\n        >\r\n          Create Flight\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default FlightForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}